"use strict";angular.module("gameOfLifeApp",[]),angular.module("Common.ArrayService",[]).service("CommonArrayService",function(){this.cloneMultiDimensionalArray=function(a){var b=a.length,c=[],d=null;for(d=0;b>d;d++)c[d]=a[d].slice();return c}}),angular.module("gameOfLifeApp",["Common.ArrayService"]).controller("MainCtrl",["$scope","CommonArrayService",function(a,b){a.init=function(){a.initVars(),a.createRandomGameBoard()},a.initVars=function(){a.GAME_BOARD_SIZE=5,a.MIN_ROW=0,a.MAX_ROW=5,a.MIN_COL=0,a.MAX_COL=5,a.DEAD_CELL=0,a.LIVE_CELL=1},a.createRandomGameBoard=function(){var b=a.MAX_ROW*a.MAX_COL,c=new Array(b),d=c.length,e=null;for(e=0;d>e;e++)c[e]=Math.round(Math.random());a.randomGameBoard=c,a.initGameBoard(c)},a.initGameBoard=function(b){var c=a.GAME_BOARD_SIZE,d=null,e=null,f=a.MAX_ROW,g=a.MAX_ROW,h=new Array(c);for(d=0;f>d;d++)for(h[d]=new Array(this.rowSize),e=0;g>e;e++)h[d][e]=b[d+e];a.gameBoards=[],a.gameBoards.push(h)},a.createNewGeneration=function(){var c=a.gameBoards.length,d=null,e=null,f=null,g=a.MAX_ROW,h=a.MAX_ROW,i=null;for(a.parentGenerationBoard=a.gameBoards[c-1],i=b.cloneMultiDimensionalArray(a.parentGenerationBoard),d=0;g>d;d++)for(e=0;h>e;e++)f=i[d][e],i[d][e]=a.evolveCell(d,e,f);a.gameBoards.push(i)},a.evolveCell=function(b,c,d){var e=a.DEAD_CELL,f=null;return a.verifyNeighborCellsExist(b,c),f=a.sumNeighborCellValues(b,c),d===e?a.evolveDeadCell(f):a.evolveLiveCell(f)},a.evolveDeadCell=function(b){var c=a.DEAD_CELL,d=a.LIVE_CELL;return 3===b?d:c},a.evolveLiveCell=function(b){var c=a.DEAD_CELL,d=a.LIVE_CELL;return 2===b||3===b?d:c},a.verifyNeighborCellsExist=function(b,c){var d=a.MIN_ROW,e=a.MAX_ROW-1,f=a.MIN_COL,g=a.MAX_ROW-1;a.topNeighborExists=!1,a.bottomNeighborExists=!1,a.rightNeighborExists=!1,a.leftNeighborExists=!1,b>d&&(a.topNeighborExists=!0),e>b&&(a.bottomNeighborExists=!0),c>f&&(a.leftNeighborExists=!0),g>c&&(a.rightNeighborExists=!0)},a.sumNeighborCellValues=function(b,c){var d=a.parentGenerationBoard,e=a.topNeighborExists,f=a.bottomNeighborExists,g=a.leftNeighborExists,h=a.rightNeighborExists,i=b,j=b,k=null,l=c,m=c,n=null,o=0;for(e&&(i-=1),f&&(j+=1),g&&(l-=1),h&&(m+=1),k=i;j>=k;k++)for(n=l;m>=n;n++)(k!==b||n!==c)&&(o+=d[k][n]);return o},a.init()}]);